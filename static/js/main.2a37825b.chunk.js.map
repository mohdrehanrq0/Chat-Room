{"version":3,"sources":["config.js","context/ContextProvider.js","components/Navbar.js","components/Input.js","components/Messages.js","components/Welcome.js","components/Home.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","ContextProvider","createContext","ContextFun","props","useState","user","setuser","loader","setLoader","allmsg","setAllmsg","useEffect","onAuthStateChanged","collection","orderBy","onSnapshot","snp","docs","map","doc","id","data","Provider","value","register","provider","GoogleAuthProvider","signInWithPopup","then","result","signInWithRedirect","logout","signOut","sendMsg","msg","add","photo","photoURL","username","displayName","email","currentTime","FieldValue","serverTimestamp","children","Navbar","useContext","userRegister","userLogout","className","src","alt","onClick","Input","Setmsg","onSubmit","e","preventDefault","type","placeholder","onChange","target","required","Messages","messages","Welcome","Home","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a37825b.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC9npB9_9G9g_0XYWjzl_KuHCfZ5VBP214\",\r\n    authDomain: \"chat-room-788c2.firebaseapp.com\",\r\n    projectId: \"chat-room-788c2\",\r\n    storageBucket: \"chat-room-788c2.appspot.com\",\r\n    messagingSenderId: \"871609475000\",\r\n    appId: \"1:871609475000:web:c4ab04a3a30971753ab94d\",\r\n    measurementId: \"G-S0JGJ9VNEE\"\r\n  };\r\n  //initialize firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  //assining auth function\r\n  const auth = firebase.auth();\r\n  //assining firestore function\r\n  const db = firebase.firestore();\r\n\r\n  export {auth, db}","/* eslint-disable no-lone-blocks */\r\nimport React, { createContext, useEffect, useState } from 'react';\r\nimport {auth, db} from '../config'\r\nimport firebase from 'firebase';\r\n\r\nexport const ContextProvider = createContext();\r\n\r\nconst ContextFun = (props) => {\r\n    const [user, setuser] = useState(null);\r\n    const [loader, setLoader] = useState(true);\r\n    const [allmsg, setAllmsg] = useState([]);\r\n    const register = () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        firebase.auth().signInWithPopup(provider).then((result) => {\r\n            firebase.auth().signInWithRedirect(provider);\r\n        })\r\n    }\r\n    const sendMsg = (msg) => {\r\n        db.collection(\"messages\").add({\r\n            msg,\r\n            photo: user.photoURL,\r\n            username: user.displayName,\r\n            email: user.email,\r\n            currentTime: firebase.firestore.FieldValue.serverTimestamp(),    \r\n        })\r\n    }\r\n    const logout = () => {\r\n        auth.signOut().then(() => {\r\n            setuser(null);\r\n        })\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged(user => {\r\n            setuser(user);\r\n            setLoader(false);\r\n        })\r\n        //fetch message from database\r\n\r\n        db.collection(\"messages\").orderBy(\"currentTime\",\"asc\").onSnapshot((snp) => {\r\n            \r\n            setAllmsg(snp.docs.map((doc) => ({\r\n                id: doc.id, \r\n                ...doc.data()   \r\n            })))\r\n        })\r\n\r\n\r\n    },[])\r\n    //console.log(user);\r\n    //console.log(allmsg); \r\n    \r\n    return(<ContextProvider.Provider value={{register, user, loader, logout, sendMsg, allmsg}}>\r\n                {props.children}\r\n         </ContextProvider.Provider>)\r\n}\r\n\r\nexport default ContextFun","import React, { useContext } from \"react\";\r\nimport \"../App.css\";\r\nimport { ContextProvider } from \"../context/ContextProvider\";\r\n\r\nfunction Navbar() {\r\n  const { register, user, loader, logout } = useContext(ContextProvider);\r\n  const userRegister = () => {\r\n    register();\r\n  };\r\n  const userLogout = () => {\r\n    logout();\r\n  };\r\n  const User = () => {\r\n    return !loader ? (\r\n      user ? (\r\n        <div className=\"navbar__links\">\r\n          <li>\r\n            <span className=\"navbar__img\">\r\n              <img src={user.photoURL} alt=\"\" />\r\n            </span>\r\n          </li>\r\n          <li>\r\n            <button className=\"navbar__btn\" onClick={userLogout}>\r\n              Logout{\" \"}\r\n            </button>\r\n          </li>\r\n        </div>\r\n      ) : (\r\n        <div className=\"navbar__links\">\r\n          <li>\r\n            <span className=\"navbar__img\"></span>\r\n          </li>\r\n          <li>\r\n            <button className=\"navbar__btn\" onClick={userRegister}>\r\n              Register with Google{\" \"}\r\n            </button>\r\n          </li>\r\n        </div>\r\n      )\r\n    ) : (\r\n      \".... \"\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"navbar\">\r\n        <div className=\"navbar__container\">\r\n          <div className=\"navbar__logo\">ChatRoom</div>\r\n          {/* <div className=\"navbar__links\">\r\n                        <li><span className=\"navbar__img\"></span></li>\r\n                        <li><button className=\"navbar__btn\" onClick={userRegister}>Register with Google </button></li>\r\n                    </div> */}\r\n          {User()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState, useContext } from 'react'\r\nimport { ContextProvider } from '../context/ContextProvider'\r\n\r\nfunction Input() {\r\n    const [msg, Setmsg] = useState(\"\");\r\n    const {sendMsg } = useContext(ContextProvider);\r\n    const storeMsg = (e) => {\r\n        e.preventDefault();\r\n        sendMsg(msg);\r\n        Setmsg(\"\");\r\n    }   \r\n    return (\r\n        <>\r\n        <div className=\"input__form\">\r\n            <form onSubmit={storeMsg}>\r\n                <input \r\n                type=\"text\"\r\n                 className=\"input__control\"\r\n                  placeholder=\"Write your Message here\"\r\n                  onChange={(e) => Setmsg(e.target.value)}\r\n                  value={msg}\r\n                  required  \r\n                   />\r\n            </form>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React, { useContext } from \"react\";\r\nimport Input from \"./Input\";\r\nimport { ContextProvider } from '../context/ContextProvider'\r\n\r\nfunction Messages() {\r\n    const {allmsg, user} = useContext(ContextProvider);\r\n\r\n  return (\r\n    <div className=\"messages\">\r\n\r\n        <>{allmsg.map((messages) => messages.email === user.email ? (<div className=\"messages__my\" key={messages.id}>\r\n            <div className=\"messages__my-p\"><p>{messages.msg}</p></div>\r\n        </div>) : (<div className=\"messages__other\" key={messages.id}>\r\n            <div className=\"messages__other-img\">\r\n                <img src={messages.photo} alt=\"other_user_img\" />\r\n            </div>\r\n            <div className=\"messages__other-msg\">\r\n                <span>{messages.username}</span>\r\n                <p>{messages.msg}</p>\r\n            </div>\r\n        </div>) )}</>\r\n\r\n\r\n        {/* <div className=\"messages__other\">   \r\n            <div className=\"messages__other-img\">\r\n                <img src=\"/logo192.png\" alt=\"other_user_img\" />\r\n            </div>\r\n            <div className=\"messages__other-msg\">\r\n                <span>Rehan</span>\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis numquam provident, quo voluptatem dolorum consequatur cupiditate, amet tempora modi nesciunt facere quia porro ipsa error nulla corporis suscipit impedit fuga.</p>\r\n            </div>\r\n        </div>\r\n        <div className=\"messages__my\">\r\n            <div className=\"messages__my-p\"><p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Itaque, beatae omnis architecto consequatur numquam voluptas expedita. Aliquid deserunt, eveniet maxime voluptates voluptatum consectetur quidem, accusantium repellat ratione, impedit totam provident.</p></div>\r\n        </div> */}\r\n      <Input />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Messages;\r\n","import React from \"react\";\r\n\r\nfunction Welcome() {\r\n  return (\r\n    <>\r\n      <div className=\"welcome\">\r\n        <h1>Welcome to the Chat Room.Please login to enter</h1>\r\n        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores deserunt sit labore accusamus, nisi ipsa ut dolorem neque id nulla distinctio ratione consectetur ex atque corporis perspiciatis veniam maxime recusandae.</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Welcome;\r\n","import React, { useContext } from 'react'\r\nimport Messages from './Messages'\r\nimport Welcome from './Welcome'\r\nimport { ContextProvider } from \"../context/ContextProvider\";\r\n\r\nfunction Home() {\r\n    const { user } = useContext(ContextProvider);   \r\n    return (\r\n        <>\r\n            {user ? <Messages /> : <Welcome />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar\";\nimport ContextFun from \"./context/ContextProvider\";\nimport Home from \"./components/Home\";\n\nfunction App() {\n  return (\n    <>\n      <div className=\"outermain__container\">\n        <ContextFun>\n          <Navbar />\n          <Home />\n        </ContextFun>\n\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}